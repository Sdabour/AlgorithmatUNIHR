@using SharpVision.HR.HRBusiness;
@using SharpVision.SystemBase;
@{
    Layout = Url.Content("~/Views/Shared/_LayoutYoussef.cshtml");
}

<!DOCTYPE html>
<!--<link href="~/Content/templatemo-style.css" rel="stylesheet" />-->
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>TaskAddEdit</title>

</head>
<body>
    @{

    }
    <link href="~/Content/Modal.css" rel="stylesheet" />
    <script src="~/Scripts/JqueryLatest.js"></script>
    <script src="~/Scripts/bootstrap.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {


            InitializeEmployeeModal();


        });
    </script>
    <div>
        <div class="container">

            <div class="form-group row">
                <div class="col-2">
                    <label>
                        الموظف الحالى
                    </label>
                </div>
                <div class="col-2"><label>@SysData.CurrentUser.EmployeeBiz.Code</label></div>
                <div class="col-4">
                    @SysData.CurrentUser.EmployeeBiz.Name
                </div>
            </div>
            <div class="form-group row">
                <div class="col">

                    @Html.Partial("SectorSearch")
                </div>
            </div>
            <div class="form-group row">
                <div class="col-1"></div>
            </div>

            <div class="card">
                <div class="card-header header-elements-inline">
                    <h5 class="card-title">مهام</h5>
                    <div class="header-elements">
                        <div class="list-icons">
                            <a class="list-icons-item" data-action="collapse"></a>
                            <a class="list-icons-item" data-action="reload"></a>

                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <form method="post" action="AddEdit">
                        <div class="form-group row">
                            <label class="col-lg-3 col-form-label">وصف مختصر:</label>
                            @{ TaskBiz _CurrentTask = new TaskBiz();
                                if (ViewBag.CurrentTask != null)
                                {
                                    _CurrentTask = ViewBag.CurrentTask;
                                }

                            }
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="txtShortDesc" value="@_CurrentTask.ShortDesc" name="txtShortDesc" placeholder="عنوان او وصف مختصر">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-lg-3 col-form-label">وصف:</label>
                            <div class="col-lg-9">
                                <textarea class="form-control" id="txtDesc" rows=5 name="txtDesc" value="@_CurrentTask.Desc" placeholder="وصف المهمة"></textarea>
                            </div>
                        </div>



                        <div class="form-group row">
                            <div class="col-lg-1">
                                <label>نوع</label>
                            </div>
                            <div class="col-lg-2">
                                <select class="form-control form-control-uniform" id="cmbIterationType" name="cmbIterationType" data-fouc="">
                                    @for (int intIndex = 0; intIndex < TaskBiz.IterationTypeList.Count; intIndex++)
                                    {

                                        <option value="@intIndex">@TaskBiz.IterationTypeList[intIndex]</option>
                                    }
                                </select>
                            </div>



                            <div class="col-lg-1">
                                <label>مدة متوقعة</label>
                            </div>
                            <div class="col-lg-2">
                                <input type="text" class="form-control" id="txtEstimatedPeriod" name="txtEstimatedPeriod" placeholder="متوقع">
                            </div>
                            <div class="col-lg-2">
                                <select class="form-control form-control-uniform" id="cmbEstimatedPeriodType" name="cmbEstimatedPeriodType" data-fouc="">
                                    @{ string strSelected = "";}
                                    @for (int intIndex = 0; intIndex < TaskBiz.PeriodTypeList.Count; intIndex++)
                                    {
                                        strSelected = _CurrentTask.Type == intIndex ? "selected" : "";
                                        <option value="@intIndex" @strSelected>@TaskBiz.PeriodTypeList[intIndex]</option>
                                    }
                                </select>
                            </div>

                        </div>

                        <div class="row pt-1">
                            <div class="col">

                                @{



                                    Html.RenderPartial("EmployeeSearch");
                                }
                            </div>
                        </div>

                        <div class="text-right">
                            <button type="submit" class="btn btn-primary">Submit form <i class="icon-paperplane ml-2"></i></button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
